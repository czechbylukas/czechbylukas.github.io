<footer class="support-note">
  <div id="footer-text">
    ❤️ I build this site myself to help people learn Czech.  
    If you’d like to support my work, <a id="footer-link" href="../support.html">click here</a>.
  </div>

  <!-- Cookie Consent Banner -->
  <div id="cookie-banner" style="position: fixed; bottom:0; left:0; right:0; background:#333; color:#fff; padding:15px; text-align:center; z-index:9999;">
    I use cookies to improve your experience and for analytics. 
    <button id="accept-cookies" style="background:#fff; color:#333; border:none; padding:5px 10px; cursor:pointer; margin-left:10px;">Accept</button>
  </div>

  <p>© 2025 CzechByLukas | <a href="../privacy.html">Privacy Policy</a></p>
</footer>

<script>
(function(){
  var banner = document.getElementById("cookie-banner");
  var acceptBtn = document.getElementById("accept-cookies");

  // Simple cookie check
  function cookiesAccepted() {
    return document.cookie.split(';').some(c => c.trim().startsWith('cookies_accepted=true'));
  }

  // Hide banner if already accepted
  if(cookiesAccepted()) {
    banner.style.display = 'none';
    loadGA();
  }

  // Button click
  acceptBtn.addEventListener('click', function(){
    document.cookie = "cookies_accepted=true; path=/; max-age=" + 60*60*24*365;
    banner.style.display = 'none';
    loadGA();
  });

  // GA load
  function loadGA(){
    if(window.gtagLoaded) return; // avoid loading twice
    window.gtagLoaded = true;
    var script = document.createElement('script');
    script.async = true;
    script.src = "https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"; // replace with your GA4 ID
    script.onload = function() {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      window.gtag = gtag;
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXXXXX'); // replace with GA4 ID
    };
    document.head.appendChild(script);
  }
})();
</script>
